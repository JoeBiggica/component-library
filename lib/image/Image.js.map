{"version":3,"sources":["../../components/image/Image.jsx"],"names":["React","PureComponent","PropTypes","classnames","FillMode","EXACT","FIT","COVER","Placeholder","LOGO_LIGHT","LOGO_DARK","Image","props","setState","loaded","state","src","className","style","alt","aspect_ratio","fill_mode","placeholder","forwarded_ref","is_amp","container_style","height","paddingBottom","undefined","styles","handleImageLoad","string","object","bool","number","oneOf","Object","values"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport styles from './Image.scss';\n\nconst FillMode = {\n\tEXACT: 'exact',\n\tFIT: 'fit',\n\tCOVER: 'cover',\n};\n\nconst Placeholder = {\n\tLOGO_LIGHT: 'logo-light',\n\tLOGO_DARK: 'logo-dark',\n};\n\nclass Image extends PureComponent {\n\tstatic propTypes = {\n\t\tclassName: PropTypes.string,\n\t\tstyle: PropTypes.object,\n\t\tsrc: PropTypes.string,\n\t\tis_amp: PropTypes.bool,\n\t\talt: PropTypes.string,\n\t\taspect_ratio: PropTypes.number,\n\t\tfill_mode: PropTypes.string,\n\t\tplaceholder: PropTypes.oneOf([false, ...Object.values(Placeholder)]),\n\t\tforwarded_ref: PropTypes.object,\n\t};\n\n\tstatic defaultProps = {\n\t\tfill_mode: FillMode.EXACT,\n\t\tplaceholder: Placeholder.LOGO_LIGHT,\n\t\tis_amp: false,\n\t};\n\n\tstatic FillMode = FillMode;\n\n\tstatic Placeholder = Placeholder;\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloaded: false,\n\t\t\tsrc: this.props.src,\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(props, state) {\n\t\tif (props.src !== state.src) {\n\t\t\treturn {\n\t\t\t\tsrc: props.src,\n\t\t\t\tloaded: false,\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\thandleImageLoad = () => {\n\t\tthis.setState({\n\t\t\tloaded: true,\n\t\t});\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tstyle,\n\t\t\talt,\n\t\t\taspect_ratio,\n\t\t\tfill_mode,\n\t\t\tplaceholder,\n\t\t\tforwarded_ref,\n\t\t\tis_amp,\n\t\t} = this.props;\n\n\t\tconst { src, loaded } = this.state;\n\n\t\tconst container_style = aspect_ratio\n\t\t\t? {\n\t\t\t\t\theight: 0,\n\t\t\t\t\tpaddingBottom: `${(1 / aspect_ratio) * 100}%`,\n\t\t\t  }\n\t\t\t: undefined;\n\n\t\treturn (\n\t\t\t<div className={className} style={style} ref={forwarded_ref}>\n\t\t\t\t<div className={styles['size-container']}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\tstyles['image-container'],\n\t\t\t\t\t\t\taspect_ratio && styles['lock-ratio'],\n\t\t\t\t\t\t\tplaceholder && styles[placeholder],\n\t\t\t\t\t\t\tloaded && styles['loaded']\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tstyle={container_style}\n\t\t\t\t\t>\n\t\t\t\t\t\t{is_amp\n\t\t\t\t\t\t\t? src && (\n\t\t\t\t\t\t\t\t\t<amp-img\n\t\t\t\t\t\t\t\t\t\tkey={src}\n\t\t\t\t\t\t\t\t\t\tclassName={classnames(styles['image'], styles[fill_mode])}\n\t\t\t\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\t\t\t\t\ttitle={alt}\n\t\t\t\t\t\t\t\t\t\tonLoad={this.handleImageLoad}\n\t\t\t\t\t\t\t\t\t\tlayout='fill'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: src && (\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tkey={src}\n\t\t\t\t\t\t\t\t\t\tclassName={classnames(styles['image'], styles[fill_mode])}\n\t\t\t\t\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\t\t\t\t\talt={alt}\n\t\t\t\t\t\t\t\t\t\ttitle={alt}\n\t\t\t\t\t\t\t\t\t\tonLoad={this.handleImageLoad}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t  )}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Image;\n"],"file":"Image.js"}