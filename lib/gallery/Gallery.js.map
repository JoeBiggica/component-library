{"version":3,"sources":["../../components/gallery/Gallery.jsx"],"names":["React","Component","PropTypes","classnames","LightBox","SpringImage","Gallery","lightbox_active","image","url","long_image","setState","lightbox_image","document","body","style","image_styles","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","styles","index","small_url","props","spring","image_style","openLightBox","long_image_styles","addEventListener","e","keyCode","closeLightBox","className","images","state","map","renderImage","renderLightBoxImage","object","string","array","bool"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport LightBox from 'components/lightbox';\nimport SpringImage from 'components/springimage';\n\nimport styles from './Gallery.scss';\n\nexport default class Gallery extends Component {\n\n\tstatic propTypes = {\n\t\tstyle: PropTypes.object,\n\t\tclassName: PropTypes.string,\n\t\timages: PropTypes.array,\n\t\tspring: PropTypes.bool,\n\t\timage_style: PropTypes.object\n\t}\n\n\tstate = {\n\t\tlightbox_active: false\n\t}\n\n\tcomponentDidMount() {\n\t\tdocument.addEventListener('keyup', e => {\n\t\t\tif (e.keyCode === 13) this.closeLightBox(); // enter\n\t\t\tif (e.keyCode === 27) this.closeLightBox(); // esc\n\t\t});\n\t}\n\n\topenLightBox = image => {\n\t\tconst {\n\t\t\turl,\n\t\t\tlong_image\n\t\t} = image;\n\n\t\tthis.setState({\n\t\t\tlightbox_active: true,\n\t\t\tlightbox_image: {\n\t\t\t\turl,\n\t\t\t\tlong_image\n\t\t\t}\n\t\t});\n\t\tdocument.body.style['overflow-x'] = 'hidden';\n\t\tdocument.body.style['overflow-y'] = 'hidden';\n\t}\n\n\tcloseLightBox = () => {\n\t\tthis.setState({ \n\t\t\tlightbox_active: false \n\t\t});\n\t\tdocument.body.style['overflow-x'] = '';\n\t\tdocument.body.style['overflow-y'] = '';\n\t}\n\n\trenderLightBoxImage = image => {\n\t\tconst {\n\t\t\turl,\n\t\t\tlong_image\n\t\t} = image;\n\n\t\tconst image_styles = {\n\t\t\tbackgroundImage: `url(${url})`,\n\t\t\tbackgroundSize: 'contain',\n\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\tbackgroundPosition: 'center'\n\t\t};\n\n\t\tif (long_image) {\n\t\t\treturn (\n\t\t\t\t<div className={classnames(styles['lightbox-image-container'])}>\n\t\t\t\t\t<img src={url} alt={url} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={classnames(styles['lightbox-image-container'])}>\n\t\t\t\t<div className={classnames(styles['lightbox-image'])} style={image_styles} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderImage = (image, index) => {\n\t\tconst {\n\t\t\turl,\n\t\t\tsmall_url,\n\t\t\tlong_image\n\t\t} = image;\n\n\t\tconst {\n\t\t\tspring,\n\t\t\timage_style,\n\t\t} = this.props;\n\n\t\tconst lightbox_image = {\n\t\t\turl\n\t\t};\n\n\t\tif (spring) {\n\t\t\treturn (\n\t\t\t\t<div \n\t\t\t\t\tkey={`image-${index}`}\n\t\t\t\t\tclassName={classnames(styles['spring-image-container'])}\n\t\t\t\t\tonClick={() => this.openLightBox(lightbox_image)}\n\t\t\t\t>\n\t\t\t\t\t<SpringImage\n\t\t\t\t\t\tclassName={classnames(styles['spring-image'])}\n\t\t\t\t\t\timage_url={small_url ? small_url : url}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\tif (long_image) {\n\t\t\tconst long_image_styles = {\n\t\t\t\tbackgroundImage: `url(${url})`,\n\t\t\t\tbackgroundSize: 'contain',\n\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t\tbackgroundPosition: 'center'\n\t\t\t};\n\n\t\t\tlightbox_image.long_image = true;\n\n\t\t\treturn (\n\t\t\t\t<div \n\t\t\t\t\tkey={`image-${index}`}\n\t\t\t\t\tclassName={classnames(styles['long-image'])} \n\t\t\t\t\tstyle={long_image_styles}\n\t\t\t\t\tonClick={() => this.openLightBox(lightbox_image)}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<img \n\t\t\t\tkey={`image-${index}`}\n\t\t\t\tsrc={small_url ? small_url : url} \n\t\t\t\tloading='lazy' \n\t\t\t\tonClick={() => this.openLightBox(lightbox_image)}\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tstyle,\n\t\t\tclassName,\n\t\t\timages\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tlightbox_active,\n\t\t\tlightbox_image\n\t\t} = this.state;\n\n\t\treturn(\n\t\t\t<div \n\t\t\t\tstyle={style}\n\t\t\t\tclassName={classnames(styles['container'], className)}\n\t\t\t>\n\t\t\t\t<div className={classnames(styles['image-list'])}>\n\t\t\t\t\t{ images && images.map(this.renderImage) }\n\t\t\t\t</div>\n\t\t\t\t{ lightbox_active && \n\t\t\t\t\t<LightBox\n\t\t\t\t\t\tonClick={() => this.closeLightBox()}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ this.renderLightBoxImage(lightbox_image) }\n\t\t\t\t\t</LightBox>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}"],"file":"Gallery.js"}