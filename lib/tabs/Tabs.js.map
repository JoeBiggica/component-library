{"version":3,"sources":["../../components/tabs/Tabs.jsx"],"names":["React","PureComponent","PropTypes","classnames","TextLabel","ScrollList","Tabs","props","index","use_transition","ref","item_refs","setState","indicator_x","offsetLeft","indicator_w","offsetWidth","item","current_index","onClick","i","current","color","Color","current_color","GRAY","ariaLabel","styles","button","button_className","handleClickTab","bind","name","Font","font","state","initial_index","handleAfterTabChange","prev_props","prev_state","className","style","items","track_position","triangle_marker","indicator_style","width","transform","indicator_classnames","indicator","transition","bottom","top","triangle","track_classnames","track","container","list","ButtonTheme","WHITE_CIRCLE","prev","next","renderItem","number","arrayOf","shape","string","isRequired","object","bool","func"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport TextLabel from 'components/textlabel';\nimport ScrollList from 'components/scrolllist';\n\nimport styles from './Tabs.scss';\n\n\nclass Tabs extends PureComponent {\n\n\tstatic propTypes = {\n\t\tinitial_index: PropTypes.number,\n\t\titems: PropTypes.arrayOf(\n\t\t\tPropTypes.shape({\n\t\t\t\tname: PropTypes.string.isRequired,\n\t\t\t})\n\t\t),\n\t\tclassName: PropTypes.string,\n\t\tbutton_className: PropTypes.string,\n\t\tstyle: PropTypes.object,\n\t\tfont: PropTypes.string,\n\t\tcurrent_color: PropTypes.string,\n\t\ttrack_position: PropTypes.string,\n\t\ttriangle_marker: PropTypes.bool,\n\t\tonClick: PropTypes.func,\n\t}\n\n\tstatic defaultProps = {\n\t\tinitial_index: 0,\n\t\tfont: 'MEDIUM',\n\t\tcurrent_color: 'ORANGE',\n\t\ttrack_position: 'bottom',\n\t\tonClick: () => {},\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {\n\t\t\tcurrent_index: props.initial_index,\n\t\t\tuse_transition: false,\n\t\t\tindicator_x: 0,\n\t\t\tindicator_w: 0,\n\t\t};\n\n\t\tthis.item_refs = [];\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.handleAfterTabChange(this.state.current_index);\n\t}\n\n\tcomponentDidUpdate(prev_props, prev_state) {\n\t\tif (prev_state.current_index !== this.state.current_index) {\n\t\t\tthis.handleAfterTabChange(this.state.current_index, true);\n\t\t}\n\t}\n\n\thandleAfterTabChange = (index, use_transition = false) => {\n\t\tconst ref = this.item_refs[index];\n\t\tif (ref) {\n\t\t\tthis.setState({\n\t\t\t\tuse_transition,\n\t\t\t\tindicator_x: ref.offsetLeft,\n\t\t\t\tindicator_w: ref.offsetWidth,\n\t\t\t});\t\n\t\t}\n\t}\n\n\thandleClickTab = (item, index) => {\n\t\tthis.setState({\n\t\t\tcurrent_index: index,\n\t\t});\n\n\t\tthis.props.onClick(item, index);\n\t}\n\n\trenderItem = (item, i, current) => {\n\t\tconst color = current ? TextLabel.Color[this.props.current_color] : TextLabel.Color.GRAY;\n\t\tconst ariaLabel = `tab-${i}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-labelledby={ariaLabel}\n\t\t\t\tkey={`tab-${i}`}\n\t\t\t\tref={ref => this.item_refs[i] = ref}\n\t\t\t\tclassName={classnames(styles.button, this.props.button_className)}\n\t\t\t\tdisabled={current}\n\t\t\t\tonClick={this.handleClickTab.bind(this, item, i)}\n\t\t\t>\n\t\t\t\t<TextLabel\n\t\t\t\t\tclassName={styles.name}\n\t\t\t\t\tcolor={color}\n\t\t\t\t\tfont={TextLabel.Font[this.props.font]}\n\t\t\t\t\tid={ariaLabel}\n\t\t\t\t\ttext={item.name}\n\t\t\t\t/>\n\t\t\t</button>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tstyle,\n\t\t\titems,\n\t\t\ttrack_position,\n\t\t\ttriangle_marker,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tcurrent_index,\n\t\t\tuse_transition,\n\t\t} = this.state;\n\n\t\tconst indicator_style = {\n\t\t\twidth: this.state.indicator_w,\n\t\t\ttransform: `translateX(${this.state.indicator_x}px)`,\n\t\t};\n\n\t\tconst indicator_classnames = classnames(\n\t\t\tstyles.indicator,\n\t\t\tuse_transition && styles.transition,\n\t\t\ttrack_position === 'bottom' && styles.bottom,\n\t\t\ttrack_position === 'top' && styles.top,\n\t\t\ttriangle_marker && styles.triangle,\n\t\t);\n\n\t\tconst track_classnames = classnames(\n\t\t\tstyles.track,\n\t\t\ttrack_position === 'bottom' && styles.bottom,\n\t\t\ttrack_position === 'top' && styles.top,\n\t\t);\n\n\t\treturn (\n\t\t\t<nav\n\t\t\t\tclassName={classnames(styles.container, className)}\n\t\t\t\tstyle={style}\n\t\t\t>\n\t\t\t\t<ScrollList\n\t\t\t\t\tclassName={styles.list}\n\t\t\t\t\titem_className={styles['list-item']}\n\t\t\t\t\titems={items}\n\t\t\t\t\tcurrent_item_index={current_index}\n\t\t\t\t\tbutton_theme={ScrollList.ButtonTheme.WHITE_CIRCLE}\n\t\t\t\t\tprev_button_className={styles.prev}\n\t\t\t\t\tnext_button_className={styles.next}\n\t\t\t\t\trenderItem={this.renderItem}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={indicator_classnames}\n\t\t\t\t\t\tstyle={indicator_style}\n\t\t\t\t\t/>\n\t\t\t\t</ScrollList>\n\n\t\t\t\t<div className={track_classnames} />\n\t\t\t</nav>\n\t\t);\n\t}\n}\n\nexport default Tabs;\n"],"file":"Tabs.js"}