{"version":3,"sources":["../../components/backdropimage/BackdropImage.jsx"],"names":["React","PureComponent","PropTypes","classnames","FillMode","EXACT","FIT","COVER","FillPosition","TOP_CENTER","CENTER","BOTTOM_CENTER","Placeholder","LOGO_LIGHT","LOGO_DARK","BackdropImage","props","e","setState","loaded_src","target","currentSrc","src","loaded","state","srcSet","className","style","aspect_ratio","fill_mode","fill_position","placeholder","forwarded_ref","size_container_style","height","paddingBottom","undefined","image_style","backgroundImage","styles","handleImageLoad","string","object","number","oneOf","Object","values"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport styles from './BackdropImage.scss';\n\n\nconst FillMode = {\n\tEXACT: 'exact',\n\tFIT: 'fit',\n\tCOVER: 'cover',\n};\n\nconst FillPosition = {\n\tTOP_CENTER: 'top-center',\n\tCENTER: 'center',\n\tBOTTOM_CENTER: 'bottom-center',\n};\n\nconst Placeholder = {\n\tLOGO_LIGHT: 'logo-light',\n\tLOGO_DARK: 'logo-dark',\n};\n\nclass BackdropImage extends PureComponent {\n\n\tstatic propTypes = {\n\t\tclassName: PropTypes.string,\n\t\tstyle: PropTypes.object,\n\t\tsrc: PropTypes.string,\n\t\tsrcSet: PropTypes.string,\n\t\taspect_ratio: PropTypes.number,\n\t\tfill_mode: PropTypes.string,\n\t\tfill_position: PropTypes.string,\n\t\tplaceholder: PropTypes.oneOf([\n\t\t\tfalse,\n\t\t\t...Object.values(Placeholder),\n\t\t]),\n\t\tforwarded_ref: PropTypes.object,\n\t}\n\n\tstatic defaultProps = {\n\t\tfill_mode: FillMode.COVER,\n\t\tfill_position: FillPosition.TOP_CENTER,\n\t\tplaceholder: Placeholder.LOGO_LIGHT,\n\t}\n\n\tstatic FillMode = FillMode\n\n\tstatic FillPosition = FillPosition\n\n\tstatic Placeholder = Placeholder\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsrc: this.props.src,\n\t\t\tsrcSet: this.props.srcSet,\n\t\t\tloaded_src: null,\n\t\t\tloaded: false,\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps(props, state) {\n\t\tif (props.src !== state.src || props.srcSet !== state.srcSet) {\n\t\t\treturn {\n\t\t\t\tsrc: props.src,\n\t\t\t\tsrcSet: props.srcSet,\n\t\t\t\tloaded_src: null,\n\t\t\t\tloaded: false,\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\thandleImageLoad = e => {\n\t\tthis.setState({\n\t\t\tloaded_src: e.target.currentSrc || e.target.src,\n\t\t\tloaded: true,\n\t\t});\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tstyle,\n\t\t\taspect_ratio,\n\t\t\tfill_mode,\n\t\t\tfill_position,\n\t\t\tplaceholder,\n\t\t\tforwarded_ref,\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tsrc,\n\t\t\tsrcSet,\n\t\t\tloaded_src,\n\t\t\tloaded,\n\t\t} = this.state;\n\n\t\tconst size_container_style = aspect_ratio ? {\n\t\t\theight: 0,\n\t\t\tpaddingBottom: `${1 / aspect_ratio * 100}%`,\n\t\t} : undefined;\n\n\t\tconst image_style = loaded_src ? {\n\t\t\tbackgroundImage: `url(${loaded_src})`,\n\t\t} : undefined;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={className}\n\t\t\t\tstyle={style}\n\t\t\t\tref={forwarded_ref}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\tstyles['size-container'],\n\t\t\t\t\t\tplaceholder && styles[placeholder],\n\t\t\t\t\t)}\n\t\t\t\t\tstyle={size_container_style}\n\t\t\t\t>\n\t\t\t\t\t{src && \n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tkey={src}\n\t\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t\t\tsrcSet={srcSet}\n\t\t\t\t\t\t\tonLoad={this.handleImageLoad}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t{loaded &&\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\tstyles['image'],\n\t\t\t\t\t\t\t\tstyles[fill_mode],\n\t\t\t\t\t\t\t\tstyles[fill_position]\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tstyle={image_style}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default BackdropImage;\n"],"file":"BackdropImage.js"}